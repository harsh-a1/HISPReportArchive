<style type="text/css">
	tbody>tr>td {
		font-weight: bold;
	}

	// tooltip .tooltip { position: relative; display: inline-block; border-bottom: 1px dotted black; } .tooltip .tooltiptext { visibility: hidden; width: 200px; background-color: black; color: #fff; text-align: center; border-radius: 6px; padding: 5px 0; /* Position the tooltip */ position: absolute; z-index: 1; } .tooltip:hover .tooltiptext { visibility: visible; }
	.entryarea {
		min-width: 98%;
		min-height: 63px;
		text-align: left;
		padding: 4px;
		box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06);
	}
</style>
<p>&nbsp; &nbsp; &nbsp; &nbsp;</p>

<table border="1" cellpadding="4" cellspacing="6" class="table" id="dataTable" style="border-collapse: collapse; font-size: 14px;">
	<tbody>
		<tr style="font-weight:400;">
			<td align="center" colspan="7" style=" font-size: 24px;"><span data-translate="heading1">Supply Information</span>
				<font style="color: red;">*</font>
			</td>
		</tr>
		<tr style="font-weight:400;">
			<td colspan="7" style="color:red;"><span data-translate="comment1">* This form has to be completed only in case if drug supply is required</span></td>
		</tr>
		<tr style="font-weight:400;">
			<td style=" font-size: 18px;font-style:strong; background-color:#FFFFCC"><span data-translate="text1">COUNTRY:</span></td>
			<td colspan="3" id="sel_country">&nbsp;</td>
			<td colspan="2" style=" font-size: 18px;font-style:strong;background-color:#FFFFCC"><span data-translate="text2">REQUEST YEAR:</span>
				<select id="mySelect" onclick="myFunction()">
					<option><span data-translate="text3">Please Select</span></option>
					<option id="periodID"></option>
					<option id="periodID2"></option>
				</select>&nbsp;</td>
			<td align="left">
				<input id="wMad2cZCHR9-HllvX50cXC0-val" name="entryfield" title="MDT Supply Request Year" value="[ MDT Supply Request Year ]"
				/>
			</td>
		</tr>
		<tr style="font-weight:400;">
			<td colspan="7"><span data-translate="text4">Information on import requirements</span></td>
		</tr>
		<tr style="font-weight:400;">
			<td bgcolor="#FFFFCC" colspan="6"><span data-translate="text5">Is the Import Permit (IP)/Greenlight (GL) required?</span>
				<font style="color: red">*</font>
			</td>
			<td>
				<input id="GuSjoY2Nfkl-HllvX50cXC0-val" name="entryfield" title="Requirement of Import permit (IP)/Greenlight (GL)" value="[ Requirement of Import permit (IP)/Greenlight (GL) ]"
				/>
			</td>
		</tr>
		<tr style="font-weight:400;">
			<td bgcolor="#FFFFCC" class="tooltip" colspan="6"><span data-translate="text6">How long does it take to obtain the IP/GL?</span>
				<span class="tooltiptext">Number of days/weeks and months (Eg: 5days/2 months)</span>
			</td>
			<td>
				<input id="LhTFyGyFie6-HllvX50cXC0-val" name="entryfield" title="Time taken to obtain IP/GL" value="[ Time taken to obtain IP/GL ]"
				/>
			</td>
		</tr>
		<tr style="font-weight:400;">
			<td bgcolor="#FFFFCC" colspan="6"><span data-translate="text7">Are any documents required to be submitted together with the IP/GL application?</span></td>
			<td>
				<input id="A99tfPa4SAW-HllvX50cXC0-val" name="entryfield" title="Document for IP/GL application - Submitted" value="[ Document for IP/GL application - Submitted ]"
				/>
			</td>
		</tr>
		<tr style="font-weight:400;">
			<td colspan="6"><span data-translate="text8">If YES, Please specify here</span></td>
			<td colspan="1">
				<input id="kNMFmlDeMVY-HllvX50cXC0-val" name="entryfield" title="Required documents - Submitted with the IP/GL application"
				 value="[ Required documents - Submitted with the IP/GL application ]" />
			</td>
		</tr>
		<tr style="font-weight:400;">
			<td bgcolor="#FFFFCC" colspan="6"><span data-translate="text9">Does the consignee have to get customs clearance before the shipment can proceed?</span></td>
			<td>
				<input id="gGtLl2LFrfD-HllvX50cXC0-val" name="entryfield" title="Custom clearance for shipment  " value="[ Custom clearance for shipment   ]"
				/>
			</td>
		</tr>
		<tr style="font-weight:400;">
			<td bgcolor="#FFFFCC" colspan="6"><span data-translate="text10">Is there any additional information that may be helpful in ensuring timely clearance and delivery of medicines to your country?&nbsp;</span>
			</td>
			<td>
				<input id="EUSvjlhesUU-HllvX50cXC0-val" name="entryfield" title="Additional information collected" value="[ Additional information collected ]"
				/>
			</td>
		</tr>
		<tr style="font-weight:400;">
			<td colspan="6"><span data-translate="text11">If YES, Please specify here</span></td>
			<td colspan="1">
				<input id="WUnzHYnGvua-HllvX50cXC0-val" name="entryfield" title="Additional information helpful in ensuring timely clearance and delivery of medicines"
				 value="[ Additional information helpful in ensuring timely clearance and delivery of medicines ]" />
			</td>
		</tr>
		<tr style="font-weight:400;">
		</tr>
		<tr>
			<td colspan="7"><span data-translate="text12">Information on notify parties/consignee/recipient</span></td>
		</tr>
		<tr style="font-weight:400;">
			<td align="center" bgcolor="#FFFFCC" colspan="7"><span data-translate="comment2">Notify Parties**</span></td>
		</tr>
		<tr style="font-weight:400;">
			<td align="left" style="color: red;" colspan="7"><span data-translate="comment3">** please indicate the emails for ordering and delivery purposes</span></td>
		</tr>
		<tr style="font-weight:400;" class="tooltip">
			<td bgcolor="#FFFFCC"><span data-translate="text13">Order related</span>
				<span class="tooltiptext">Please indicate the contacts that have to be informed about the order status</span>
			</td>
			<td colspan="6">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				<input id="jOyvqv5uJtg-HllvX50cXC0-val" name="entryfield" title="PO related" value="[ PO related ]" />
			</td>
		</tr>
		<tr style="font-weight:400;" class="tooltip">
			<td bgcolor="#FFFFCC"><span data-translate="text14">Delivery related</span>
				<span class="tooltiptext">Please indicate the contacts that have to be informed about the shipment status</span>
			</td>
			<td colspan="6">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				<input id="xDyPZ8JyID4-HllvX50cXC0-val" name="entryfield" title="Supply related" value="[ Supply related ]" />
			</td>
		</tr>
		<tr>
			<td colspan="7">&nbsp;</td>
		</tr>
		<tr style="font-weight:400;">
			<td bgcolor="#FFFFCC">&nbsp;</td>
			<td align="center" bgcolor="#FFFFCC" colspan="4" class="tooltip"><span data-translate="text15">Consignee Details&nbsp;</span>
				<span class="tooltiptext">Please provide the institution/company/authority details that will be indicated in the shipping documents and will be used for import purposes</span>
			</td>
			<td align="center" bgcolor="#FFFFCC" colspan="2" class="tooltip"><span data-translate="text16">Final Recipient Details&nbsp;</span>
				<span class="tooltiptext">Please provide the contact details of the final recipient of medicines (ministry of health/national programme/warehouse/drug store etc.) </span>
			</td>
		</tr>
		<tr style="font-weight:400;">
			<td>&nbsp;</td>
			<td align="center" colspan="4"><span data-translate="text17">(For import purpose)</span></td>
			<td align="center" colspan="2"><span data-translate="text18">(national programme/warehouse etc.)</span></td>
		</tr>
		<tr style="font-weight:400;">
			<td bgcolor="#FFFFCC"><span data-translate="text19">Full name and title</span></td>
			<td align="center" colspan="4">
				<input id="XuHmc8GPdnx-HllvX50cXC0-val" name="entryfield" title="Full name " value="[ Full name  ]" />
			</td>
			<td align="center" colspan="2">
				<input id="GKMzAuqn1bJ-HllvX50cXC0-val" name="entryfield" title="Full name - Delivery address" value="[ Full name - Delivery address ]"
				/>
			</td>
		</tr>
		<tr style="font-weight:400;">
			<td bgcolor="#FFFFCC"><span data-translate="text20">Function</span></td>
			<td align="center" colspan="4">
				<input id="V8VZ15KmbQT-HllvX50cXC0-val" name="entryfield" title="Function" value="[ Function ]" />
			</td>
			<td align="center" colspan="2">
				<input id="pJC3Rz2aGhO-HllvX50cXC0-val" name="entryfield" title="Function - Delivery address" value="[ Function - Delivery address ]"
				/>
			</td>
		</tr>
		<tr style="font-weight:400;">
			<td bgcolor="#FFFFCC">Department/Unit</td>
			<td align="center" colspan="4">
				<input id="QjHVCfm4Rqh-HllvX50cXC0-val" name="entryfield" title="Department/Unit - Name " value="[ Department/Unit - Name  ]"
				/>
			</td>
			<td align="center" colspan="2">
				<input id="hETztUCLosf-HllvX50cXC0-val" name="entryfield" title="Department - Delivery address" value="[ Department - Delivery address ]"
				/>
			</td>
		</tr>
		<tr style="font-weight:400;">
			<td bgcolor="#FFFFCC">Organization</td>
			<td align="center" colspan="4">
				<input id="WMVcCgywuKC-HllvX50cXC0-val" name="entryfield" title="Organization - Name" value="[ Organization - Name ]" />
			</td>
			<td align="center" colspan="2">
				<input id="ILVyLw1MloX-HllvX50cXC0-val" name="entryfield" title="Organization - Delivery address" value="[ Organization - Delivery address ]"
				/>
			</td>
		</tr>
		<tr style="font-weight:400;">
			<td bgcolor="#FFFFCC">Bldg. c/o Street 1</td>
			<td align="center" colspan="4">
				<input id="bZewOgIZ1iS-HllvX50cXC0-val" name="entryfield" title="Bldg. - Name" value="[ Bldg. - Name ]" />
			</td>
			<td align="center" colspan="2">
				<input id="P913TAqVe2N-HllvX50cXC0-val" name="entryfield" title="Bldg. - Delivery address" value="[ Bldg. - Delivery address ]"
				/>
			</td>
		</tr>
		<tr style="font-weight:400;">
			<td bgcolor="#FFFFCC">Street 2</td>
			<td align="center" colspan="4">
				<input id="IjAnXBfMVlK-HllvX50cXC0-val" name="entryfield" title="Street 2" value="[ Street 2 ]" />
			</td>
			<td align="center" colspan="2">
				<input id="tPPJm9CP12N-HllvX50cXC0-val" name="entryfield" title="Street 2 - Delivery address" value="[ Street 2 - Delivery address ]"
				/>
			</td>
		</tr>
		<tr style="font-weight:400;">
			<td bgcolor="#FFFFCC">P.O. Box</td>
			<td align="center" colspan="4">
				<input id="cg67QCIMbGu-HllvX50cXC0-val" name="entryfield" title="P.O. Box" value="[ P.O. Box ]" />
			</td>
			<td align="center" colspan="2">
				<input id="EhcvLHvYEtk-HllvX50cXC0-val" name="entryfield" title="P.O. Box - Delivery address" value="[ P.O. Box - Delivery address ]"
				/>
			</td>
		</tr>
		<tr style="font-weight:400;">
			<td bgcolor="#FFFFCC">City</td>
			<td align="center" colspan="4">
				<input id="EfGAUBuUQZm-HllvX50cXC0-val" name="entryfield" title="City - Name " value="[ City - Name  ]" />
			</td>
			<td align="center" colspan="2">
				<input id="fjpQNeK3yU8-HllvX50cXC0-val" name="entryfield" title="City - Delivery address" value="[ City - Delivery address ]"
				/>
			</td>
		</tr>
		<tr style="font-weight:400;">
			<td bgcolor="#FFFFCC">Postal code</td>
			<td align="center" colspan="4">
				<input id="Qp8L1n8iHg4-HllvX50cXC0-val" name="entryfield" title="Postal code" value="[ Postal code ]" />
			</td>
			<td align="center" colspan="2">
				<input id="NOAuz8Ajnnv-HllvX50cXC0-val" name="entryfield" title="Postal code - Delivery address" value="[ Postal code - Delivery address ]"
				/>
			</td>
		</tr>
		<tr style="font-weight:400;">
			<td bgcolor="#FFFFCC">State/Province/Dept.</td>
			<td align="center" colspan="4">
				<input id="XgJjpxWFkMa-HllvX50cXC0-val" name="entryfield" title="State/Province/Dept. - Name " value="[ State/Province/Dept. - Name  ]"
				/>
			</td>
			<td align="center" colspan="2">
				<input id="a89lC7KBcAC-HllvX50cXC0-val" name="entryfield" title="State - Delivery address" value="[ State - Delivery address ]"
				/>
			</td>
		</tr>
		<tr style="font-weight:400;">
			<td bgcolor="#FFFFCC">Country</td>
			<td align="center" colspan="4">
				<input id="oe6DoXoAZek-HllvX50cXC0-val" name="entryfield" title="Country - Name " value="[ Country - Name  ]" />
			</td>
			<td align="center" colspan="2">
				<input id="rb17dxtWOBT-HllvX50cXC0-val" name="entryfield" title="Country - Delivery address" value="[ Country - Delivery address ]"
				/>
			</td>
		</tr>
		<tr style="font-weight:400;">
			<td bgcolor="#FFFFCC">Phone</td>
			<td align="center" colspan="4">
				<input id="JUxuWl14tSi-HllvX50cXC0-val" name="entryfield" title="Phone" value="[ Phone ]" />
			</td>
			<td align="center" colspan="2">
				<input id="Td0dxnNfOUd-HllvX50cXC0-val" name="entryfield" title="Phone - Delivery address" value="[ Phone - Delivery address ]"
				/>
			</td>
		</tr>
		<tr style="font-weight:400;">
			<td bgcolor="#FFFFCC">E-mail</td>
			<td align="center" colspan="4">
				<input id="GE15UeiiWEA-HllvX50cXC0-val" name="entryfield" title="E-mail address" value="[ E-mail address ]" />
			</td>
			<td align="center" colspan="2">
				<input id="oHn6BzdPXi6-HllvX50cXC0-val" name="entryfield" title="E-mail - Delivery address" value="[ E-mail - Delivery address ]"
				/>
			</td>
		</tr>
		<tr>
			<td colspan="7">&nbsp;</td>
		</tr>
		<tr style="font-weight:400;">
			<td bgcolor="#FFFFCC" colspan="7">Additional information</td>
		</tr>
		<tr style="font-weight:400;">
			<td colspan="7">
				<input id="nIXENXSFNeC-HllvX50cXC0-val" name="entryfield" title="Additional - Information for timely delivery" value="[ Additional - Information for timely delivery ]"
				/>
			</td>
		</tr>
		<tr>
			<td colspan="7" style="text-align: left;font-weight:bold;color:#0000FF">
				<p>Submit data : Click on the &#39;Complete button&#39; to submit the data. This will only be allowed if all the mandatory
					data fields are filled and validated.
					<br /> Edit data : Click on the &#39;Incomplete button&#39; to edit the data once submitted.
					<br /> Print Form : Click on the &#39;Print Form&#39; link to download the excel report for the data submitted. This
					will be allowed only after submission of the data.</p>
				<p style="text-align: left;font-weight:bold;font-size: 17px; color:red;background-color: paleturquoise;">Complete button
					is disabled till the mandatory fields (*) are not entered.</p>
			</td>
		</tr>
		<tr>
			<td colspan="7">
				<button class="instructions" onclick="downloadBlankExcel()" style="margin-right:10px ">
					<span data-translate="button1">Download Blank Excel Form</span>
				</button>
				<button id="getReport" onclick="submitform()">Print Form</button>
			</td>
		</tr>
	</tbody>
</table>
<!-- <br>
<a href="../dhis-web-reporting/generateHtmlReport.action?uid=OB6qyio4Gqj&pe="+ year +"&ou="+ ou;>
<strong>Get Report</strong>
</a> -->
<script type="text/javascript">

	setInterval(function () {
		checkout();
	}, 1000);

	$('#validationButton').hide();
	$('#printButton').hide();
	$('input[value="Print blank form"]').hide();

	var nextISOPeriod = "";
	var year = $('#selectedPeriodId').val().substring(0, 4).trim();
	var yy = parseInt(year);
	console.log(yy);
	var requestyear = yy + 2;
	var supyear = yy + 1;
	console.log("year = " + year);
	console.log("requestyear = " + requestyear);
	var ou = dhis2.de.getCurrentOrganisationUnit();
	document.getElementById("sel_country").innerHTML = document.getElementById("selectedOrganisationUnit").value;

	console.log("ou" + ou);

	document.getElementById('periodID2').innerHTML = supyear;
	document.getElementById('periodID').innerHTML = requestyear;

	function submitform() {
		window.location.href = "../dhis-web-reporting/generateHtmlReport.action?uid=cZgo4yAM4CT&pe=" + year + "&ou=" + ou;
	}

	function checkout() {
		if ((document.getElementById('completeButton').disabled) && (document.getElementById('undoButton').disabled == false) && (document.getElementById('selectedDataSetId').value == "HEldDUlDSFX")) {
			$("input[type=radio]").attr('disabled', true);
			$("input[type=text]").attr('disabled', true);
			$("textarea").prop('disabled', true);
			$("#mySelect").attr('disabled', true);
		}
		else {
			$("input[type=radio]").attr('disabled', false);
			$("input[type=text]").attr('disabled', false);
			$("textarea").prop('disabled', false);
			$("#mySelect").attr('disabled', false);
		}
		if ((document.getElementById('undoButton').disabled) && (document.getElementById('selectedDataSetId').value == "HEldDUlDSFX")) {
			$('#getReport').attr('disabled', 'disabled');
		}
		else {
			$('#getReport').removeAttr('disabled');
		}

		$('#wMad2cZCHR9-HllvX50cXC0-val').attr('disabled', 'disabled');


		if (($('input[id="GuSjoY2Nfkl-HllvX50cXC0-val"]:checked').val() == undefined) && (document.getElementById('selectedDataSetId').value == "HEldDUlDSFX")) {
			$('#completeButton').attr('disabled', 'disabled');
		}
		else {
			$('#completeButton').removeAttr('disabled');
		}

		if (document.getElementById('undoButton').disabled == false) {
			$('#completeButton').attr('disabled', 'disabled');
		}
	}

	function myFunction() {

		var periodInYear = document.getElementById("mySelect").value;
		getvalues(periodInYear);
		console.log("=====" + periodInYear);

	} (1000);
	function downloadBlankExcel() {
		var url1 = "../api/me/profile.json";
		window.location.href = "../api/documents/pPAMRrczdnw/data";
	}

	function getvalues(year) {

		var yy = year;
		document.getElementById("wMad2cZCHR9-HllvX50cXC0-val").value = yy;

		var ou = dhis2.de.getCurrentOrganisationUnit();
		var pe = $('#selectedPeriodId').val();

		var dataValueSet = {};

		var dataValues = [];

		var dataValue1 = {};

		dataValue1["orgUnit"] = ou;
		dataValue1["period"] = pe;
		dataValue1["dataElement"] = "wMad2cZCHR9";
		dataValue1["categoryOptionCombo"] = "HllvX50cXC0";
		dataValue1["value"] = yy;
		dataValues.push(dataValue1);

		dataValueSet.dataValues = dataValues;
		console.log(JSON.stringify(dataValueSet));

		$.ajax({
			headers: {
				'Accept': 'application/json',
				'Content-Type': 'application/json'
			},
			url: '../api/dataValueSets',
			data: JSON.stringify(dataValueSet),
			dataType: 'json',
			type: 'post',
			async: false,
			success: returnSuccess,
			error: returnError
		});

		function returnSuccess(response) {

		}

		function returnError(xhr, textStatus, errorThrown) {

		}

	}

</script>

<!-- Printing Blank Forms in all different languages from resourses -->

<script type="text/javascript">
	function downloadBlankExcel() {
		var url1 = "../api/me/profile.json";
		$.get(url1, function (data1) {
			var selectedLanguage = data1.settings.keyUiLocale;
			if (selectedLanguage == "en") {
				window.location.href = "../api/documents/S9N4nAbqRsc/data";
			}
			else if (selectedLanguage == "es") {
				window.location.href = "../api/documents/IsiSukxDp0g/data";
			}
			else if (selectedLanguage == "fr") {
				window.location.href = "../api/documents/uTJB4hPQgWH/data";
			}
			else if (selectedLanguage == "pt") {
				window.location.href = "../api/documents/Igwvg6oMHFK/data";
			}
			else if (selectedLanguage == "ru") {
				window.location.href = "../api/documents/SfFDDLWd7Rn/data";
			}
		});
	}
</script>
<!-- Css for hiding few things from pdf downloading -->

<style type="text/css">
	/* printing */

	@media print {
		#printing {
			margin: 0%;
		}
		.instructions {
			display: none;
		}
		#infoDiv {
			display: none !important;
		}
		#completenessDiv {
			display: none !important;
		}
		#completedByDiv {
			display: none !important;
		}
		.confirm-dialog-content {
			display: none !important;
		}
	}
</style>

<!-- Translation of form by getting selected language from dhis2 -->

<script type="text/javascript">
	dhis2.util.on('dhis2.de.event.formReady', function (event, ds) {
		$(".entryfield").width('75px');

		//Use english as default, in case there is a problem fetching locale or
		//there are no support for the users
		translate('en');

		$.ajax({
			type: "GET",
			url: '../api/me/profile.json',
			success: function (data) {

				var locale = data.settings.keyUiLocale;
				console.log("Locale: " + locale);
				if (locale != 'en') translate(locale);
			},
			error: function () {

			}
		});

	});

	function translate(locale) {
		for (var i = 0; i < translations.length; i++) {
			var field = translations[i];

			if (!field.hasOwnProperty(locale)) return;

			$('[data-translate="' + field.id + '"]').html(field[locale]);
		}
	}
</script>

<!-- <span data-translate="test">THIS WILL BE TRANSLATED</span> -->
<script>
	var translations = [{ "id": "heading1", "en": "Supply Information*" }
	]
</script>