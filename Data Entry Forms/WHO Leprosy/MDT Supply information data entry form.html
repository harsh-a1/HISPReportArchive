<style type="text/css">
	tbody>tr>td {
		font-weight: bold;
	}
</style>
<p>&nbsp; &nbsp; &nbsp; &nbsp;</p>

<table border="1" cellpadding="4" cellspacing="6" class="table" id="dataTable" style="border-collapse: collapse; font-size: 14px;">
	<tbody>
		<tr style="font-weight:400;">
			<td align="center" colspan="7" style=" font-size: 24px;">MDT Supply Information*</td>
		</tr>
		<tr style="font-weight:400;">
			<td colspan="7">* This form has to be completed only in case if drug supply is required&nbsp;</td>
		</tr>
		<tr style="font-weight:400;">
			<td style=" font-size: 18px;font-style:strong; background-color:#FFFFCC">COUNTRY:</td>
			<td colspan="3" id="sel_country">&nbsp;</td>
			<td colspan="2" style=" font-size: 18px;font-style:strong;background-color:#FFFFCC">REQUEST YEAR:
				<select id="mySelect" onclick="myFunction()">
					<option>Please Select</option>
					<option id="periodID"></option>
					<option id="periodID2"></option>
				</select>&nbsp;</td>
			<td align="left">
				<input id="wMad2cZCHR9-HllvX50cXC0-val" name="entryfield" title="MDT Supply Request Year" value="[ MDT Supply Request Year ]"
				/>
			</td>
		</tr>
		<tr style="font-weight:400;">
			<td colspan="7">Information on import requirements</td>
		</tr>
		<tr style="font-weight:400;">
			<td bgcolor="#FFFFCC" colspan="6">Is the Import Permit (IP)/Greenlight (GL) required?</td>
			<td>
				<input id="GuSjoY2Nfkl-HllvX50cXC0-val" name="entryfield" title="Requirement of Import permit (IP)/Greenlight (GL)" value="[ Requirement of Import permit (IP)/Greenlight (GL) ]"
				/>
			</td>
		</tr>
		<tr style="font-weight:400;">
			<td bgcolor="#FFFFCC" colspan="6">How long does it take to obtain the IP/GL?</td>
			<td>
				<input id="LhTFyGyFie6-HllvX50cXC0-val" name="entryfield" title="Time taken to obtain IP/GL" value="[ Time taken to obtain IP/GL ]"
				/>
			</td>
		</tr>
		<tr style="font-weight:400;">
			<td bgcolor="#FFFFCC" colspan="6">Are any documents required to be submitted together with the IP/GL application?</td>
			<td>
				<input id="A99tfPa4SAW-HllvX50cXC0-val" name="entryfield" title="Document for IP/GL application - Submitted" value="[ Document for IP/GL application - Submitted ]"
				/>
			</td>
		</tr>
		<tr style="font-weight:400;">
			<td colspan="6">If YES, Please specify here</td>
			<td colspan="1">
				<input id="kNMFmlDeMVY-HllvX50cXC0-val" name="entryfield" title="Required documents - Submitted with the IP/GL application"
				 value="[ Required documents - Submitted with the IP/GL application ]" />
			</td>
		</tr>
		<tr style="font-weight:400;">
			<td bgcolor="#FFFFCC" colspan="6">Does the consignee have to get customs clearance before the shipment can proceed?</td>
			<td>
				<input id="gGtLl2LFrfD-HllvX50cXC0-val" name="entryfield" title="Custom clearance for shipment  " value="[ Custom clearance for shipment   ]"
				/>
			</td>
		</tr>
		<tr style="font-weight:400;">
			<td bgcolor="#FFFFCC" colspan="6">Is there any additional information that may be helpful in ensuring timely clearance and delivery of medicines to your
				country?&nbsp;</td>
			<td>
				<input id="EUSvjlhesUU-HllvX50cXC0-val" name="entryfield" title="Additional information collected" value="[ Additional information collected ]"
				/>
			</td>
		</tr>
		<tr style="font-weight:400;">
			<td colspan="6">If YES, Please specify here</td>
			<td colspan="1">
				<input id="WUnzHYnGvua-HllvX50cXC0-val" name="entryfield" title="Additional information helpful in ensuring timely clearance and delivery of medicines"
				 value="[ Additional information helpful in ensuring timely clearance and delivery of medicines ]" />
			</td>
		</tr>
		<tr style="font-weight:400;">
		</tr>
		<tr>
			<td colspan="7">Information on notify parties/consignee/recipient</td>
		</tr>
		<tr style="font-weight:400;">
			<td align="center" bgcolor="#FFFFCC" colspan="7">Notify Parties&nbsp;&nbsp;&nbsp; (Please indicate the emails);</td>
		</tr>
		<tr style="font-weight:400;">
			<td bgcolor="#FFFFCC">PO related</td>
			<td colspan="6">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				<input id="jOyvqv5uJtg-HllvX50cXC0-val" name="entryfield" title="PO related" value="[ PO related ]" />
			</td>
		</tr>
		<tr style="font-weight:400;">
			<td bgcolor="#FFFFCC">Supply related</td>
			<td colspan="6">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				<input id="xDyPZ8JyID4-HllvX50cXC0-val" name="entryfield" title="Supply related" value="[ Supply related ]" />
			</td>
		</tr>
		<tr>
			<td colspan="7">&nbsp;</td>
		</tr>
		<tr style="font-weight:400;">
			<td bgcolor="#FFFFCC">&nbsp;</td>
			<td align="center" bgcolor="#FFFFCC" colspan="4">Consignee Details&nbsp;</td>
			<td align="center" bgcolor="#FFFFCC" colspan="2">Delivery Address&nbsp;</td>
		</tr>
		<tr style="font-weight:400;">
			<td>&nbsp;</td>
			<td align="center" colspan="4">(For import purpose)</td>
			<td align="center" colspan="2">(National programme/Final recipient)</td>
		</tr>
		<tr style="font-weight:400;">
			<td bgcolor="#FFFFCC">Full name and title</td>
			<td align="center" colspan="4">
				<input id="XuHmc8GPdnx-HllvX50cXC0-val" name="entryfield" title="Full name " value="[ Full name  ]" />
			</td>
			<td align="center" colspan="2">
				<input id="GKMzAuqn1bJ-HllvX50cXC0-val" name="entryfield" title="Full name - Delivery address" value="[ Full name - Delivery address ]"
				/>
			</td>
		</tr>
		<tr style="font-weight:400;">
			<td bgcolor="#FFFFCC">Function</td>
			<td align="center" colspan="4">
				<input id="V8VZ15KmbQT-HllvX50cXC0-val" name="entryfield" title="Function" value="[ Function ]" />
			</td>
			<td align="center" colspan="2">
				<input id="pJC3Rz2aGhO-HllvX50cXC0-val" name="entryfield" title="Function - Delivery address" value="[ Function - Delivery address ]"
				/>
			</td>
		</tr>
		<tr style="font-weight:400;">
			<td bgcolor="#FFFFCC">Department/Unit</td>
			<td align="center" colspan="4">
				<input id="QjHVCfm4Rqh-HllvX50cXC0-val" name="entryfield" title="Department/Unit - Name " value="[ Department/Unit - Name  ]"
				/>
			</td>
			<td align="center" colspan="2">
				<input id="hETztUCLosf-HllvX50cXC0-val" name="entryfield" title="Department - Delivery address" value="[ Department - Delivery address ]"
				/>
			</td>
		</tr>
		<tr style="font-weight:400;">
			<td bgcolor="#FFFFCC">Organization</td>
			<td align="center" colspan="4">
				<input id="WMVcCgywuKC-HllvX50cXC0-val" name="entryfield" title="Organization - Name" value="[ Organization - Name ]"
				/>
			</td>
			<td align="center" colspan="2">
				<input id="ILVyLw1MloX-HllvX50cXC0-val" name="entryfield" title="Organization - Delivery address" value="[ Organization - Delivery address ]"
				/>
			</td>
		</tr>
		<tr style="font-weight:400;">
			<td bgcolor="#FFFFCC">Bldg. c/o Street 1</td>
			<td align="center" colspan="4">
				<input id="bZewOgIZ1iS-HllvX50cXC0-val" name="entryfield" title="Bldg. - Name" value="[ Bldg. - Name ]" />
			</td>
			<td align="center" colspan="2">
				<input id="P913TAqVe2N-HllvX50cXC0-val" name="entryfield" title="Bldg. - Delivery address" value="[ Bldg. - Delivery address ]"
				/>
			</td>
		</tr>
		<tr style="font-weight:400;">
			<td bgcolor="#FFFFCC">Street 2</td>
			<td align="center" colspan="4">
				<input id="IjAnXBfMVlK-HllvX50cXC0-val" name="entryfield" title="Street 2" value="[ Street 2 ]" />
			</td>
			<td align="center" colspan="2">
				<input id="tPPJm9CP12N-HllvX50cXC0-val" name="entryfield" title="Street 2 - Delivery address" value="[ Street 2 - Delivery address ]"
				/>
			</td>
		</tr>
		<tr style="font-weight:400;">
			<td bgcolor="#FFFFCC">P.O. Box</td>
			<td align="center" colspan="4">
				<input id="cg67QCIMbGu-HllvX50cXC0-val" name="entryfield" title="P.O. Box" value="[ P.O. Box ]" />
			</td>
			<td align="center" colspan="2">
				<input id="EhcvLHvYEtk-HllvX50cXC0-val" name="entryfield" title="P.O. Box - Delivery address" value="[ P.O. Box - Delivery address ]"
				/>
			</td>
		</tr>
		<tr style="font-weight:400;">
			<td bgcolor="#FFFFCC">City</td>
			<td align="center" colspan="4">
				<input id="EfGAUBuUQZm-HllvX50cXC0-val" name="entryfield" title="City - Name " value="[ City - Name  ]" />
			</td>
			<td align="center" colspan="2">
				<input id="fjpQNeK3yU8-HllvX50cXC0-val" name="entryfield" title="City - Delivery address" value="[ City - Delivery address ]"
				/>
			</td>
		</tr>
		<tr style="font-weight:400;">
			<td bgcolor="#FFFFCC">Postal code</td>
			<td align="center" colspan="4">
				<input id="Qp8L1n8iHg4-HllvX50cXC0-val" name="entryfield" title="Postal code" value="[ Postal code ]" />
			</td>
			<td align="center" colspan="2">
				<input id="NOAuz8Ajnnv-HllvX50cXC0-val" name="entryfield" title="Postal code - Delivery address" value="[ Postal code - Delivery address ]"
				/>
			</td>
		</tr>
		<tr style="font-weight:400;">
			<td bgcolor="#FFFFCC">State/Province/Dept.</td>
			<td align="center" colspan="4">
				<input id="XgJjpxWFkMa-HllvX50cXC0-val" name="entryfield" title="State/Province/Dept. - Name " value="[ State/Province/Dept. - Name  ]"
				/>
			</td>
			<td align="center" colspan="2">
				<input id="a89lC7KBcAC-HllvX50cXC0-val" name="entryfield" title="State - Delivery address" value="[ State - Delivery address ]"
				/>
			</td>
		</tr>
		<tr style="font-weight:400;">
			<td bgcolor="#FFFFCC">Country</td>
			<td align="center" colspan="4">
				<input id="oe6DoXoAZek-HllvX50cXC0-val" name="entryfield" title="Country - Name " value="[ Country - Name  ]" />
			</td>
			<td align="center" colspan="2">
				<input id="rb17dxtWOBT-HllvX50cXC0-val" name="entryfield" title="Country - Delivery address" value="[ Country - Delivery address ]"
				/>
			</td>
		</tr>
		<tr style="font-weight:400;">
			<td bgcolor="#FFFFCC">Phone</td>
			<td align="center" colspan="4">
				<input id="JUxuWl14tSi-HllvX50cXC0-val" name="entryfield" title="Phone" value="[ Phone ]" />
			</td>
			<td align="center" colspan="2">
				<input id="Td0dxnNfOUd-HllvX50cXC0-val" name="entryfield" title="Phone - Delivery address" value="[ Phone - Delivery address ]"
				/>
			</td>
		</tr>
		<tr style="font-weight:400;">
			<td bgcolor="#FFFFCC">E-mail</td>
			<td align="center" colspan="4">
				<input id="GE15UeiiWEA-HllvX50cXC0-val" name="entryfield" title="E-mail address" value="[ E-mail address ]" />
			</td>
			<td align="center" colspan="2">
				<input id="oHn6BzdPXi6-HllvX50cXC0-val" name="entryfield" title="E-mail - Delivery address" value="[ E-mail - Delivery address ]"
				/>
			</td>
		</tr>
		<tr>
			<td colspan="7">&nbsp;</td>
		</tr>
		<tr style="font-weight:400;">
			<td bgcolor="#FFFFCC" colspan="7">Additional information</td>
		</tr>
		<tr style="font-weight:400;">
			<td colspan="7">
				<input id="nIXENXSFNeC-HllvX50cXC0-val" name="entryfield" title="Additional - Information for timely delivery" value="[ Additional - Information for timely delivery ]"
				/>
			</td>
		</tr>
		<tr>
			<td colspan="7" style="text-align: left;font-weight:bold;color:#0000FF">
				<p>Submit data : Click on the &#39;Complete button&#39; to submit the data. This will only be allowed if all the mandatory
					data fields are filled and validated.
					<br /> Edit data : Click on the &#39;Incomplete button&#39; to edit the data once submitted.
					<br /> Print Form : Click on the &#39;Print Form&#39; link to download the excel report for the data submitted. This will
					be allowed only after submission of the data.</p>
			</td>
		</tr>
		<tr>
			<td colspan="7">
				<button class="instructions" onclick="downloadBlankExcel()" style="margin-right:10px ">
					<span data-translate="button1">Download Blank Excel Form</span>
				</button>
				<button id="getReport" onclick="submitform()">Print Form</button>
			</td>
		</tr>
	</tbody>
</table>
<!-- <br>
<a href="../dhis-web-reporting/generateHtmlReport.action?uid=OB6qyio4Gqj&pe="+ year +"&ou="+ ou;>
<strong>Get Report</strong>
</a> -->
<script type="text/javascript">

	setInterval(function () {
		checkout();
	}, 1000);

	function downloadBlankExcel() {
		window.location.href = "../api/documents/S9N4nAbqRsc/data";
	}

	$('#validationButton').hide();
	$('#printButton').hide();
	$('input[value="Print blank form"]').hide();

	var nextISOPeriod = "";
	var year = $('#selectedPeriodId').val().substring(0, 4).trim();
	var yy = parseInt(year);
	console.log(yy);
	var requestyear = yy + 2;
	var supyear = yy + 1;
	console.log("year = " + year);
	console.log("requestyear = " + requestyear);
	var ou = dhis2.de.getCurrentOrganisationUnit();
	document.getElementById("sel_country").innerHTML = document.getElementById("selectedOrganisationUnit").value;

	console.log("ou" + ou);


	document.getElementById('periodID2').innerHTML = supyear;
	document.getElementById('periodID').innerHTML = requestyear;

	function submitform() {
		window.location.href = "../dhis-web-reporting/generateHtmlReport.action?uid=cZgo4yAM4CT&pe=" + year + "&ou=" + ou;
	}

	function checkout() {
		if ((document.getElementById('completeButton').disabled) && (document.getElementById('undoButton').disabled == false) && (document.getElementById('selectedDataSetId').value == "HEldDUlDSFX")) {
			$("input[type=radio]").attr('disabled', true);
			$("input[type=text]").attr('disabled', true);
			$("textarea").prop('disabled', true);
			$("#mySelect").attr('disabled', true);
		}
		else {
			$("input[type=radio]").attr('disabled', false);
			$("input[type=text]").attr('disabled', false);
			$("textarea").prop('disabled', false);
			$("#mySelect").attr('disabled', false);
		}
		if ((document.getElementById('undoButton').disabled) && (document.getElementById('selectedDataSetId').value == "HEldDUlDSFX")) {
			$('#getReport').attr('disabled', 'disabled');
		}
		else {
			$('#getReport').removeAttr('disabled');
		}

		$('#wMad2cZCHR9-HllvX50cXC0-val').attr('disabled', 'disabled');
	}

	function myFunction() {

		var periodInYear = document.getElementById("mySelect").value;
		getvalues(periodInYear);
		console.log("=====" + periodInYear);

	} (1000);
	function downloadBlankExcel() {
		var url1 = "../api/me/profile.json";
		window.location.href = "../api/documents/pPAMRrczdnw/data";
	}

	debugger;
	function getvalues(year) {

		var yy = year;


		document.getElementById("wMad2cZCHR9-HllvX50cXC0-val").value = yy;

		//var de = selectedInputId.split("-")[0];
		//var co = selectedInputId.split("-")[1];
		var ou = dhis2.de.getCurrentOrganisationUnit();
		var pe = $('#selectedPeriodId').val();


		var dataValueSet = {};

		var dataValues = [];

		var dataValue1 = {};

		dataValue1["orgUnit"] = ou;
		dataValue1["period"] = pe;
		dataValue1["dataElement"] = "wMad2cZCHR9";
		dataValue1["categoryOptionCombo"] = "HllvX50cXC0";


		dataValue1["value"] = yy;


		dataValues.push(dataValue1);


		dataValueSet.dataValues = dataValues;
		console.log(JSON.stringify(dataValueSet));

		$.ajax({
			headers: {
				'Accept': 'application/json',
				'Content-Type': 'application/json'
			},
			url: '../api/dataValueSets',
			data: JSON.stringify(dataValueSet),
			dataType: 'json',
			type: 'post',
			async: false,
			success: returnSuccess,
			error: returnError
		});

		function returnSuccess(response) {

		}

		function returnError(xhr, textStatus, errorThrown) {

		}

	}



</script>